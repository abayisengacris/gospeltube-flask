<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin - Edit Video</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

    <style>
        /* ===== GENERAL ===== */
        * { box-sizing: border-box; margin:0; padding:0; }
        body { font-family: 'Roboto', sans-serif; background:#0f172a; color:#e5e7eb; }
        a { text-decoration:none; color:inherit; }

        /* ===== HEADER ===== */
        header { background:#1e293b; padding:20px; display:flex; justify-content:space-between; align-items:center; }
        header h1 { font-size:22px; color:#22c55e; }
        header a { background:#22c55e; color:#0f172a; padding:8px 16px; border-radius:6px; font-weight:500; margin-left:10px; transition: background 0.2s; }
        header a:hover { background:#16a34a; }

        /* ===== MAIN ===== */
        main { padding:30px; max-width: 700px; margin:auto; }

        h2 { margin-bottom:20px; font-size:20px; color:#22c55e; }

        /* ===== FORM ===== */
        form { background:#1e293b; padding:30px; border-radius:10px; box-shadow:0 8px 20px rgba(0,0,0,0.4); }
        label { display:block; margin-top:15px; font-weight:500; color:#cbd5e1; }
        input, select { 
            width:100%; 
            padding:12px; 
            margin-top:5px; 
            border-radius:6px; 
            border:1px solid #334155; 
            background:#0f172a; 
            color:#e5e7eb; 
        }
        input:focus, select:focus { outline:none; border-color:#22c55e; }

        button {
            margin-top:25px; 
            width:100%; 
            padding:14px; 
            background:#22c55e; 
            border:none; 
            border-radius:6px; 
            font-size:16px; 
            font-weight:500; 
            cursor:pointer; 
            transition: background 0.2s ease;
        }
        button:hover { background:#16a34a; }

        /* ===== FLASH MESSAGES ===== */
        .msg { margin-top:15px; padding:12px; border-radius:6px; font-weight:500; }
        .success { background:#d1fae5; color:#065f46; }
        .danger { background:#fca5a5; color:#991b1b; }

        /* ===== NAVIGATION ===== */
        .nav { margin-bottom:20px; display:flex; gap:15px; flex-wrap:wrap; }
        .nav a { color:#22c55e; font-weight:500; transition: color 0.2s; }
        .nav a:hover { color:#16a34a; }

        /* ===== RESPONSIVE ===== */
        @media (max-width:600px){
            main { padding:20px; }
            form { padding:20px; }
        }
    </style>
</head>
<body>

<header>
    <h1>‚úèÔ∏è Edit Video</h1>
    <div>
        <a href="{{ url_for('admin_dashboard') }}">üè† Dashboard</a>
        <a href="{{ url_for('manage_videos') }}">üì∫ Manage Videos</a>
        <a href="{{ url_for('admin_logout') }}">Logout</a>
    </div>
</header>

<main>
    <h2>Edit Video Details</h2>

    <div class="nav">
        <a href="{{ url_for('manage_videos') }}">‚¨Ö Back to Manage Videos</a>
    </div>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="msg {{ category }}">{{ message }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <form method="POST">
        <label for="title">Title *</label>
        <input id="title" type="text" name="title" value="{{ video.title }}" required>

        <label for="category_id">Category</label>
        <select id="category_id" name="category_id">
            <option value="">-- No Category --</option>
            {% for c in categories %}
                <option value="{{ c.id }}" {% if video.category_id == c.id %}selected{% endif %}>{{ c.name }}</option>
            {% endfor %}
        </select>

        <label for="translated_link">Translated Link</label>
        <input id="translated_link" type="url" name="translated_link" value="{{ video.translated_link or '' }}" placeholder="https://...">

        <label for="download_link">Download Link</label>
        <input id="download_link" type="url" name="download_link" value="{{ video.download_link or '' }}" placeholder="https://...">

        <button type="submit">üíæ Save Changes</button>
    </form>
</main>

</body>
</html>
